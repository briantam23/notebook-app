(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8678:(e,t,a)=>{Promise.resolve().then(a.bind(a,4269))},4269:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(5155),s=a(8803),n=a.n(s),d=a(2115),l=a(8173),c=a.n(l);let i=()=>{let e=(0,d.useRef)(null),t=(0,d.useRef)(null),[a,s]=(0,d.useState)("line"),[n,l]=(0,d.useState)(!1),[c,i]=(0,d.useState)(0),[o,b]=(0,d.useState)(0);(0,d.useEffect)(()=>{let a=e.current,r=a.getContext("2d");t.current=r,a.width=.7*window.innerWidth,a.height=.6*window.innerHeight,r.lineCap="round",r.strokeStyle="black",r.lineWidth=3},[]);let h=(e,a,r,s)=>{t.current.beginPath(),t.current.moveTo(e,a),t.current.lineTo(r,s),t.current.stroke()},x=(e,a,r,s)=>{t.current.beginPath(),t.current.rect(e,a,r-e,s-a),t.current.stroke()};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex space-x-2 mb-6",children:[(0,r.jsx)("button",{className:"p-2 border-2 ".concat("line"===a?"border-black dark:border-white":"dark:border-black"),onClick:()=>s("line"),children:"Line"}),(0,r.jsx)("button",{className:"p-2 border-2 ".concat("rectangle"===a?"border-black dark:border-white":"dark:border-black"),onClick:()=>s("rectangle"),children:"Rectangle"}),(0,r.jsx)("button",{className:"p-2 border-2 ".concat("freehand"===a?"border-black dark:border-white":"dark:border-black"),onClick:()=>s("freehand"),children:"Freehand"}),(0,r.jsx)("button",{className:"p-2",onClick:()=>{let a=e.current;t.current.clearRect(0,0,a.width,a.height)},children:"Clear"})]}),(0,r.jsx)("canvas",{ref:e,className:"border border-black dark:bg-white",height:500,width:750,onMouseUp:e=>{let{nativeEvent:r}=e;if(!n)return;l(!1);let{offsetX:s,offsetY:d}=r;switch(a){case"line":h(c,o,s,d);break;case"rectangle":x(c,o,s,d)}t.current.closePath()},onMouseDown:e=>{let{nativeEvent:a}=e,{offsetX:r,offsetY:s}=a;l(!0),i(r),b(s),t.current.beginPath(),t.current.moveTo(r,s)},onMouseMove:e=>{let{nativeEvent:r}=e;if(!n)return;let{offsetX:s,offsetY:d}=r;"freehand"===a&&(t.current.lineTo(s,d),t.current.stroke())},id:"canvas"})]})},o=e=>{let{notebook:t}=e,[a,s]=(0,d.useState)("");return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl",children:"Notes"}),(0,r.jsx)("textarea",{onChange:e=>s(e.target.value),value:a,className:"border-2 w-full p-2 dark:text-black"}),(0,r.jsx)("button",{onClick:()=>{t.notes.push(a),s("")},className:"p-2 mb-4 border dark:border-black bg-blue-500 text-white",children:"Add Note"}),(0,r.jsx)("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-200 pb-8",children:t.notes.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]})},b=()=>{let[e,t]=(0,d.useState)([]),[a,s]=(0,d.useState)(""),[l,c]=(0,d.useState)(null),[i,b]=(0,d.useState)(null),h=(e,t)=>{c(e),b(t)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-ee1d7f7d148499bd pr-8",children:[(0,r.jsx)("h2",{className:"jsx-ee1d7f7d148499bd text-2xl pb-4 notebook-title",children:"My Notebooks"}),(0,r.jsx)("ul",{className:"jsx-ee1d7f7d148499bd list-disc list-inside pb-6",children:e.length>0?e.map((e,t)=>(0,r.jsx)("li",{onClick:()=>h(e,t),className:"jsx-ee1d7f7d148499bd "+"cursor-pointer ".concat(i===t?"text-black dark:text-white":"text-gray-600 dark:text-gray-400"),children:e.name},t)):"(Empty)"}),(0,r.jsxs)("div",{className:"jsx-ee1d7f7d148499bd flex flex-col",children:[(0,r.jsx)("textarea",{onChange:e=>s(e.target.value),value:a,className:"jsx-ee1d7f7d148499bd border-2 dark:text-black w-full p-2 mb-2 notebook-form"}),(0,r.jsx)("button",{onClick:()=>{t([...e,{name:a,sketches:[],notes:[]}]),s("")},disabled:!a,className:"jsx-ee1d7f7d148499bd p-2 border dark:border-black bg-blue-500 text-white mb-12 md:mb-4 notebook-form",children:"Add Notebook"})]}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:"jsx-ee1d7f7d148499bd pb-8"}),(0,r.jsx)(o,{notebook:l})]})]}),(0,r.jsx)(n(),{id:"ee1d7f7d148499bd",children:".notebook-title.jsx-ee1d7f7d148499bd{min-width:190px}.notebook-form.jsx-ee1d7f7d148499bd{max-width:175px;max-height:45px}"})]})};var h=a(78),x=a.n(h),m=a(142);let u=()=>{let e=()=>{x()(document.querySelector("#canvas")).then(e=>{let t=e.toDataURL("image/png"),a=new m.Ay;a.addImage(t,"PNG",0,0),a.save("notebook.pdf")})};return(0,r.jsx)("button",{onClick:()=>e(),children:"Export"})},g=()=>{let[e,t]=(0,d.useState)(!1),[a,s]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{sessionStorage.getItem("isAuthenticated")&&s(!0),sessionStorage.getItem("isDarkMode")&&t(!0)},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:n().dynamic([["b04adb413df80b13",[e?"rgb(17 24 39 / var(--tw-bg-opacity, 1))":"white"]]])+" "+((e?"dark":"")||""),children:(0,r.jsxs)("div",{className:n().dynamic([["b04adb413df80b13",[e?"rgb(17 24 39 / var(--tw-bg-opacity, 1))":"white"]]])+" pb-12 px-8 md:px-12 pt-8 sm:pt-10 md:pt-12 dark:bg-gray-900 dark:text-white bg-white text-black",children:[(0,r.jsxs)("div",{className:n().dynamic([["b04adb413df80b13",[e?"rgb(17 24 39 / var(--tw-bg-opacity, 1))":"white"]]])+" md:flex sm:pb-3 navbar-container",children:[(0,r.jsx)("h1",{className:n().dynamic([["b04adb413df80b13",[e?"rgb(17 24 39 / var(--tw-bg-opacity, 1))":"white"]]])+" text-3xl md:text-4xl font-extrabold title",children:"Notebook App"}),(0,r.jsxs)("div",{className:n().dynamic([["b04adb413df80b13",[e?"rgb(17 24 39 / var(--tw-bg-opacity, 1))":"white"]]]),children:[(0,r.jsx)("button",{onClick:()=>{e?(sessionStorage.removeItem("isDarkMode"),t(!1)):(sessionStorage.setItem("isDarkMode","true"),t(!0))},className:n().dynamic([["b04adb413df80b13",[e?"rgb(17 24 39 / var(--tw-bg-opacity, 1))":"white"]]])+" p-4 toggle-theme-button",children:"Toggle Theme"}),(0,r.jsx)(u,{}),a?(0,r.jsx)(c(),{className:"p-4 pr-0",href:"#",onClick:()=>{sessionStorage.removeItem("isAuthenticated"),s(!1)},children:"Logout"}):(0,r.jsx)(c(),{className:"p-4 pr-0",href:"/auth",children:"Login"})]})]}),(0,r.jsx)("hr",{className:n().dynamic([["b04adb413df80b13",[e?"rgb(17 24 39 / var(--tw-bg-opacity, 1))":"white"]]])+" pb-7 sm:pb-10"}),(0,r.jsxs)("div",{className:n().dynamic([["b04adb413df80b13",[e?"rgb(17 24 39 / var(--tw-bg-opacity, 1))":"white"]]])+" md:flex justify-normal",children:[(0,r.jsx)(b,{}),(0,r.jsx)(i,{})]})]})}),(0,r.jsx)(n(),{id:"b04adb413df80b13",dynamic:[e?"rgb(17 24 39 / var(--tw-bg-opacity, 1))":"white"],children:"html{background-color:".concat(e?"rgb(17 24 39 / var(--tw-bg-opacity, 1))":"white","}.navbar-container{-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.title{-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center}.toggle-theme-button{margin-left:-14px}")})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[930,316,481,441,517,358],()=>t(8678)),_N_E=e.O()}]);